<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div class="h-full min-h-screen w-screen bg-zinc-900 text-white p-10 relative">
    <button class="bg-red-700 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded right-5 absolute">
      <a href="logout">Log Out</a>
    </button>
    <h2>Hi, <%= user.name %></h2>
    <p>Welcome to your dashboard!</p>
    <h5 class="mb-3">Write a post</h5>
    <form action="/posts" method="post">
      <textarea class="resize-none bg-zinc-800 rounded-md w-1/3 p-3" name="content" rows="5" placeholder="Write your post..."></textarea>
      <input class="p-3 bg-blue-500 hover:bg-blue-700 rounded-md block" type="submit" value="Create post">
    </form>
    
    <div class="mt-9">
      <h2 class="font-bold">Your Posts</h2>
      <% posts.reverse().forEach(post => { %>
        <div class="mb-3 bg-zinc-800 rounded-md p-3">
          <p><%= post.content %></p>
          <p>Posted by <%= post.user.name %></p>
          <div>
            <a class="text-blue-300 hover:text-blue-500" href="/posts/<%= post._id %>">Edit</a> |
            <a class="text-red-300 hover:text-red-500" href="/delete/<%= post._id %>">Delete</a>
          </div>
        </div>
      <% }) %>
    </div>
  </div>
</body>
</html>